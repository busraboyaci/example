<!-- Ürünlerin Listelenmesi (farklı bir komponent içerisinde )
<admin-products></admin-products>
-->

<div class="container">
<div class="row">
    <form #form="ngForm" (ngSubmit)="ngSubmit(form)">
        <div class="bg-danger text-white p-3 my-2" *ngIf="formSubmited && form.invalid">
            bir hata oluştu bilgilerinizi kontrol ediniz
        </div>
    <div class="col-md-6">
        <div class="form-group">
            <label>Product Name</label> <br>
            <input
            class="form-control"
            required 
            minlength="3"
            pattern="[^0-9]"
            [(ngModel)]="newProduct.name"
            type="text"
            name="name"
            ngModel
            #name="ngModel"
            (change)="log(name)">
            <!-- ngIf veya hidden properties kullanarak kontrol sağlayabiliriz-->
            <div class="alert alert-danger" *ngIf="(formSubmited && name.dirty) && name.invalid">
                <p *ngFor="let error of getValidationErrors(name)">
                    {{ error }}
                </p>
            </div>
        </div>
        <div class="form-group">
            <!-- minumum maksimumum ve sayısal harfsel
            karakterleri kontol ediyor hataları ona göre ayrı ayrı yazdırıyoruz-->
            <label>Product Description</label>
            <input 
            class="form-control"
            required minlength="3" maxlength="10" pattern="[a-zA-Z ]*"
            [(ngModel)]="newProduct.description"
            name="pDescription"
            #description="ngModel"
            (change)="log(name)">
            <div class="alert alert-danger" *ngIf="!description.value && description.touched">
                <p> Description is requared </p>
                <p> only letters can be </p>
                <p> min 3 character </p>


            </div>
        </div>
        <div class="form-group">
            <label>Product Image</label>
            <input
            class="form-control"
            required
            [(ngModel)]="newProduct.imageUrl"
            name="pImage"
            #imageUrl="ngModel"
            (change)="log(name)">
            <div class="alert alert-danger" *ngIf="!imageUrl.value && imageUrl.touched">
                Image is requared 
            </div>
        </div>
        <button type="submit" class="btn btn-primary m-2" >submit</button>
    </div>
</form>
</div>
</div>